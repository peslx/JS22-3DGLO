(()=>{"use strict";const e=e=>{console.log("'helpers.js' вызвана из "+e)},t=({timing:e,draw:t,duration:o})=>{let l=performance.now();requestAnimationFrame((function n(r){let a=(r-l)/o;a>1&&(a=1);let c=e(a);t(c),a<1&&requestAnimationFrame(n)}))};(e=>{console.log("'heroTimer.js' подключен");const t=document.getElementById("timer"),o=document.getElementById("timer-days"),l=document.getElementById("timer-hours"),n=document.getElementById("timer-minutes"),r=document.getElementById("timer-seconds"),a=()=>{let e=(e=>{let t=new Date("14 january 2022 13:00").getTime(),o=(new Date).getTime(),l=Math.floor((t-o)/1e3);return{days:Math.floor(l/60/60/24),hours:Math.floor(l/60/60),minutes:Math.floor(l/60%60),seconds:Math.floor(l%60),remTime:l}})();o.textContent=`${c(e.days)} дня, `,l.textContent=c(e.hours),n.textContent=c(e.minutes),r.textContent=c(e.seconds),e.remTime<=0&&(clearInterval(i),setInterval(s,2e3),o.textContent="",l.textContent="00",n.textContent="00",r.textContent="00")},c=e=>{let t=String(e);return t.length<2&&(t=`0${t}`),t},s=()=>{t.innerHTML="Акция завершена!"};a();let i=setInterval(a,1e3)})(),(()=>{console.log("'menu.js' подключен");const e=document.querySelector("menu"),t=e.querySelectorAll("ul>li>a"),o=(document.querySelector("a[href='#service-block']"),()=>{e.classList.toggle("active-menu")});document.addEventListener("click",(l=>{e.classList.contains("active-menu")&&!l.target.closest("menu")&&o(),l.target.closest(".menu")&&o(),l.target.classList.contains("close-btn")&&o(),t.forEach((e=>{e===l.target&&(l.preventDefault(),o(),window.scrollBy({top:document.querySelector(e.attributes.href.value).offsetTop,behavior:"smooth"}))})),l.target.closest("a[href='#service-block']")&&(l.preventDefault(),window.scrollBy({top:document.querySelector("#service-block").offsetTop,behavior:"smooth"}))}))})(),(()=>{console.log("'popup.js' подключен");const o=document.querySelector(".popup"),l=document.querySelectorAll(".popup-btn"),n=o.querySelector("form");l.forEach((e=>{e.addEventListener("click",(()=>{a()}))})),o.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||(o.style.display="none",r())}));const r=()=>{n.style.opacity="",n.style.transform=""},a=()=>{o.style.display="block",r(),document.documentElement.clientWidth<=768?(n.style.opacity=1,n.style.transform="scale(1)"):t({duration:600,timing:e=>e,draw(e){n.style.opacity=e,n.style.transform=`scale(${e})`}})};e("'popup.js'")})(),(()=>{console.log("'validation.js' подключен");const e=document.querySelector(".calc-block").querySelectorAll("input"),t=document.querySelector(".main-form-input").querySelectorAll("input"),o=document.querySelector(".footer-form-input").querySelectorAll("input"),l=document.getElementById("form3").querySelectorAll("input"),n={words:{cyr:e=>e.replace(/[^а-яА-Я\- ]/g,""),lat:e=>e.replace(/[^a-zA-Z\- ]/g,"")},digits:e=>e.replace(/\D/g,""),mail:e=>e.replace(/[^a-zA-Z0-9\-@_.~!'*]/g,""),phone:e=>e.replace(/[^\d\(\)\+\-]/g,""),input:e=>{"text"==e.type||"Ваше сообщение"==e.placeholder?e.value=n.words.cyr(e.value):"email"==e.type?e.value=n.mail(e.value):"tel"==e.type&&(e.value=n.phone(e.value))},onBlur:e=>{e.value=e.value.trim(),e.value=e.value.replace(/\s+\b/g," "),e.value=e.value.replace(/\b\s+/g," "),e.value=e.value.replace(/\s+/g," "),e.value=e.value.replace(/\-+/g,"-"),e.value=e.value.replace(/(^-)|(-$)/g,""),e.value=e.value.replace(/(^ +)|( +$)/g,""),"text"===e.type&&""!==e.value&&"Ваше сообщение"!==e.placeholder&&(e.value=e.value.split(/\s/).map((e=>e[0].toUpperCase()+e.substring(1))).join(" "))}};t.forEach((e=>{e.addEventListener("input",(()=>{n.input(e)})),e.addEventListener("blur",(t=>{n.onBlur(e),console.log("**"+t.target.value+"**")}))})),o.forEach((e=>{e.addEventListener("input",(()=>{n.input(e)})),e.addEventListener("blur",(()=>{n.onBlur(e)}))})),l.forEach((e=>{e.addEventListener("input",(()=>{n.input(e)})),e.addEventListener("blur",(()=>{n.onBlur(e)}))})),e.forEach((e=>{e.addEventListener("input",(()=>{e.value=n.digits(e.value)})),e.addEventListener("blur",(()=>{n.onBlur(e)}))}))})(),(()=>{console.log("'tabs.js' подключен");const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{e.target.closest(".service-header-tab")&&t.forEach(((t,l)=>{t===e.target.closest(".service-header-tab")?(t.classList.add("active"),o[l].classList.remove("d-none")):(t.classList.remove("active"),o[l].classList.add("d-none"))}))}))})(),((e=!1)=>{console.log("'slider.js' подключен");const t=document.querySelector(".portfolio-content"),o=document.querySelectorAll(".portfolio-item");if(e){const e=document.createElement("ul");e.classList.add("portfolio-dots"),t.append(e),o.forEach(((t,o)=>{const l=document.createElement("li");0===o?l.classList.add("dot","dot-active"):l.classList.add("dot"),e.append(l)}))}const l=!!e&&document.querySelectorAll(".dot");let n,r=0;const a=(e,t,o)=>{e[t].classList.remove(o)},c=(e,t,o)=>{e[t].classList.add(o)},s=()=>{a(o,r,"portfolio-item-active"),l&&a(l,r,"dot-active"),r++,r>=o.length&&(r=0),c(o,r,"portfolio-item-active"),l&&c(l,r,"dot-active")},i=(e=1500)=>{n=setInterval(s,e)};t.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".portfolio-btn, .dot")&&(a(o,r,"portfolio-item-active"),l&&a(l,r,"dot-active"),e.target.matches("#arrow-left")?r--:e.target.matches("#arrow-right")?r++:e.target.classList.contains("dot")&&l.forEach(((t,o)=>{e.target===t&&(r=o)})),r>=o.length?r=0:r<0&&(r=o.length-1),c(o,r,"portfolio-item-active"),l&&c(l,r,"dot-active"))})),t.addEventListener("mouseenter",(e=>{e.target.matches(".portfolio-btn, .dot")&&clearInterval(n)}),!0),t.addEventListener("mouseleave",(e=>{e.target.matches(".portfolio-btn, .dot")&&i(2e3)}),!0),i(2e3)})(!0),((o=100)=>{console.log("'calc.js' подключен");const l=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),a=document.querySelector(".calc-count"),c=document.querySelector(".calc-day"),s=document.getElementById("total");let i=0;l.addEventListener("change",(e=>{(()=>{const e=+n.options[n.selectedIndex].value,l=+r.value;let u,d=1;+a.value>1&&(d+=+a.value/10),u=0==+c.value?1:+c.value<5?2:+c.value<10?1.5:1,e&&0!==l?(i=o*e*l*d*u,t({duration:750,timing:e=>e,draw(e){s.textContent=Math.ceil(i*e)}})):0!==l&&e||(s.textContent=0)})()})),e("'calc.js'")})(),(({formID:e,extraData:t=[]})=>{console.log(`'sendForm.js (id:${e})' подключен`);const o=document.getElementById(e),l=document.createElement("div");try{if(!o)throw new Error(`Форма ${e} отсутствует`);o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=new FormData(o),n=o.querySelectorAll("input"),r={};var a;l.textContent="Отправка...",o.append(l),e.forEach(((e,t)=>{r[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id);console.log(t),"block"===e.type?r[e.id]=t.textContent:"input"===e.type&&(r[e.id]=t.value)})),n.forEach((e=>{})),(a=r,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{l.textContent="Форма успешно отправлена",n.forEach((e=>e.value=""))})).catch((e=>{l.textContent="Ошибка отправки =("}))})()}))}catch(e){console.log(e.message)}})({formID:"form1",extraData:[{type:"block",id:"total"}]})})();